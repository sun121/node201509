{"version":3,"sources":["13.transform.js"],"names":[],"mappings":";;AAAA,IAAI,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC;AAC5C,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACvB,SAAS,WAAW,CAAC,OAAO,EAAC;AACzB,aAAS,CAAC,IAAI,CAAC,IAAI,EAAC,OAAO,CAAC,CAAC;CAChC;AACD,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAC,SAAS,CAAC,CAAC;;AAErC,WAAW,CAAC,SAAS,CAAC,UAAU,GAAG,UAAS,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAC;AAC/D,SAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC1B,YAAI,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;KAC3B;AACD,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAChB,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CACnB,CAAA;;;;;;;;AAWD,EAAE,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,WAAW,EAAE,CAAC,CACrD,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAA","file":"13.transform-compiled.js","sourcesContent":["var Transform = require('stream').Transform;\r\nvar util = require('util');\r\nvar fs = require('fs');\r\nfunction FsTransform(options){\r\n    Transform.call(this,options);\r\n}\r\nutil.inherits(FsTransform,Transform);\r\n\r\nFsTransform.prototype._transform = function(data,encoding,callback){\r\n    for(var i=0;i<data.length;i++){\r\n        data[i] = 255 - data[i];\r\n    }\r\n    this.push(data);//放置到读取队列中\r\n    this.push(null);\r\n}\r\n\r\n\r\n\r\n//255-(255-i) = i\r\n/**\r\nfs.createReadStream('./read.txt').pipe(new FsTransform())\r\n.pipe(fs.createWriteStream('./after.txt'))\r\n**/\r\n\r\n\r\nfs.createReadStream('./after.txt').pipe(new FsTransform())\r\n    .pipe(fs.createWriteStream('./after2.txt'))\r\n"]}