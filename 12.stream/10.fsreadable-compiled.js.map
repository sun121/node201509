{"version":3,"sources":["10.fsreadable.js"],"names":[],"mappings":";;AAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC;AAC1C,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACvB,SAAS,UAAU,CAAC,OAAO,EAAC;AAC1B,YAAQ,CAAC,IAAI,CAAC,IAAI,EAAC,OAAO,CAAC,CAAC;AAC5B,QAAI,CAAC,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAAC;AACzC,QAAI,CAAC,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC;CAC7C;AACD,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAC,QAAQ,CAAC,CAAC;;AAEnC,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,YAAU;AACpC,QAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC7C,QAAI,SAAS,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAC,MAAM,EAAC,CAAC,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACnE,QAAG,SAAS,GAAC,CAAC,EAAC;AACX,YAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAC,SAAS,CAAC,CAAC,CAAC;KACxC,MAAI;AACD,YAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnB;CACH,CAAA;;AAED,IAAI,UAAU,GAAG,IAAI,UAAU,CAAC,EAAC,IAAI,EAAC,YAAY,EAAC,aAAa,EAAC,CAAC,EAAC,CAAC,CAAC;AACrE,UAAU,CAAC,EAAE,CAAC,MAAM,EAAC,UAAS,IAAI,EAAC;AAC/B,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;CAChC,CAAC,CAAC;AACH,UAAU,CAAC,EAAE,CAAC,KAAK,EAAC,YAAU;AAC1B,WAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;CACtB,CAAC,CAAC","file":"10.fsreadable-compiled.js","sourcesContent":["var Readable = require('stream').Readable;\r\nvar util = require('util');\r\nvar fs = require('fs');\r\nfunction FsReadable(options){\r\n  Readable.call(this,options);\r\n  this._fd = fs.openSync(options.path,'r');\r\n  this._highWaterMark = options.highWaterMark;\r\n}\r\nutil.inherits(FsReadable,Readable);\r\n\r\nFsReadable.prototype._read = function(){\r\n   var buffer = new Buffer(this._highWaterMark);\r\n   var bytesRead = fs.readSync(this._fd,buffer,0,this._highWaterMark);\r\n   if(bytesRead>0){\r\n       this.push(buffer.slice(0,bytesRead));\r\n   }else{\r\n       this.push(null);\r\n   }\r\n}\r\n\r\nvar fsReadable = new FsReadable({path:'./read.txt',highWaterMark:3});\r\nfsReadable.on('data',function(data){\r\n    console.log(data.toString());\r\n});\r\nfsReadable.on('end',function(){\r\n    console.log('end');\r\n});"]}